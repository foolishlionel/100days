BLOGS
-------------
## Coding Way - 20160127
 优秀的攻城狮应该具备怎样的特质
误入码农行业也有不少时间，见过不少大神，发现大神都具备两个共同的特质，第一就是高度抽象的思维和架构能力，第二就是胆大心细。说起来好像很简单，但是结合自己的能力，发现这两个能力正好是自己的短板。

#### 抽象思维和架构能力
软件开发说到底也就是把现实世界的需求给抽象成代码，在计算机世界中执行。所以呢，做一款App或者Web产品，首先对整个产品的业务需求很了解，一款产品有不同的模块，各个模块之间怎么样的交互，这些都需要通盘考虑。如果只局限于眼前的短期目标，确实可以快速的开发出一个功能缺省的雏形，但是随着业务的增加，之前考虑问题不全面导致的恶果就会越来越严重。所以，大多数时候，作为软件攻城狮，确实应该多花时间想想自己做的产品涉及的方方面面，通盘考虑，让自己站在更高的角度，不要像一只可怜的蚂蚁一样，在需求的魔方上面找不到出路。

架构能力我认为就是掌控代码质量的能力了，什么叫好的代码呢，不同的人有不同的看法，也许我们看前任留下的代码都会说这代码真是没法维护，写的太烂了，所以说代码的好坏可能没有一个标准的衡量方法。但是也可以这样说，良好的代码，起码具备如下几个特点，首先要模块清晰，分类清楚，其次要语义明确无误，命名规范、简洁。我觉得有个很好的方法判断代码是否是烂代码，就是那看看自己的类，是不是对外提供了太多的接口，如果接口太多，调用和管理变的越来越麻烦，也会有很多冗余重复的代码，这时候你就该偷偷摸摸地把代码优化一下了。

抽象思维和架构能力的培养，是一个漫长而缓慢的过程，我觉得攻城狮一定要多思考，敢于面对自己当前的烂，多与人交流切磋，多阅读优质的开源代码。一步一步的，逐步去提升，最终会产生潜移默化的效果。so，建议各位攻城狮下班了或者周末了，花点时间看看github上面的代码，做做总结。

#### 胆大心细，发散思维
作为攻城狮，我们在编码的过程中肯定都会遇到各种蛋疼的bug以及没节操的需求。有的时候抓耳挠腮绞尽脑汁，还是没有解决bug的思路或者找不到方法，或者有时候感觉自己就在门外，但是就是没有开启大门的钥匙，只能看着时间流逝，自己站在门外干跺脚。想起自己以前改bug时候，面对十几个关联的类，大片大片的代码，真的是无从下手，后来请教大神。大神通盘看了看，然后对可疑代码逐行注释的去调试，最终找到了原因。改好了bug，我在想，为什么我也怀疑那段代码有问题，却没有像大神一样仔细地去逐行注释仔细调试呢，后来想想，自己面对bug时候内心是崩溃的，这时候已经乱了方寸，根本就是没头苍蝇胡乱冲撞，心思越乱，受伤越深，那一堂课，大神让我明白了什么叫做胆大心细。

发散思维是什么呢，我觉得就是不比拘泥于传统的套路，而是另辟蹊径寻找替代的方法。这种能力的锻炼并不容易，因为我们往往会循着自己的固有思维一直走啊走，也不知道自己走的这条路是否是一条正确的路，有时候你坚持下去了，发现自己走的对了；有时候你并不知道走了错误的路，最终发现难以回头或者骑虎难下，最后的最后还是不得不气馁地承认自己确实错了，如果继续走下去会越陷越深。那怎样能避免这种思维误区呢，我觉得在于我们自身的想象力和创造力，我们平常就应该注重创造力和想象力的培养，比如一个稍微复杂的需求或者略蛋疼的bug，我们要想，有几种方法去解决呢，如果我们解决了，能不能用另外一种方法试着能不能解决，如果都可以解决，那么还要深入思考，哪一种方案更加高效优质。所以，平常的工作不能满足于完成任务，而是要想，自己到底有没有突破自己思维的局限，有没有多思考更好的方法，甚至更烂的方法。


### 怎样提升自己的知识储备
其实工作了一两年的攻城狮应该都有这种感觉，自己做的工作越来越重复，创造性的工作或者挑战性的需求也只占到30%不到，更多的时候我们都是靠着之前的积累和经验在解决问题。所以自己的知识储备越丰富，工作肯定越得心应手。那么怎样构建自己的知识体系呢？以我自己的经历来说，主要有以下几点吧，

#### 1. 多阅读代码多收集代码
作为攻城狮，我们在开发过程中阅读过很多巧妙的设计模式代码，看过很多强大的功能类和工具类，哪怕是一种独特而有效的注释风格，这些都值得我们学习。也许今天印象深刻，明天还会记得，下个月还有点印象，过了两个月我们就会忘的干干净净，所以我们有必要在理解了代码之后将其收集，不时地拿出来看一看，这样经过不断地巩固，这些优质的代码就被逐渐吸收了。

至于收集的代码放在什么地方，我觉得github不用说了吧，不用github的攻城狮不是好的攻城狮。

#### 2. 关注行业新动态 拥抱变化
记得刚刚入行码农界的时候，一个老司机告诉我，做开发最辛苦的地方就是要不断地学习新的东西，接触新的技术，如果你有这个激情，说明你适合这个行业。一开始不是太懂这句话，等自己入了行才觉得深以为然，是啊，攻城狮真的需要不断地学习，不断地充电，不然麻木地混个三个月就落下别人一大截。

我在学习iOS开发的过程中，发现每一次苹果发布新的版本iOS和对应的SDK，都要一下接受那么多的东西。比如我是从iOS5开始接触iOS开发的，那时候都是用MRC来进行内存管理，界面编写都是用代码实现，其实对于内存管理也不是太懂，就稀里糊涂写代码；后来iOS6发布了，又要开始学习ARC和XIB编程，当然学习难度不是特别大，而且ARC和XIB推出的目的就是为了减轻开发者编程的负担，我却并不了解ARC到底哪里好了，还是稀里糊涂的使用；后来iOS7出来了，苹果直接用了扁平化的界面风格，作为码农又要适配新的界面风格，犹记得iOS7刚刚推出的时候，整个设计界和码农界对这种扁平化风格骂声一片，当然我当时也加入了谩骂的阵营，不过有一次跟一个设计师交流的时候，我问他感觉iOS7扁平化风格怎么样，他说iOS7的新的样式真的很好看，而且自带的时钟App上面的指针还动呢，他简单的一句话，让我有点茅塞顿开的感觉，原来我们说扁平化不好，也许只是我们不太喜欢拥抱变化吧；后来iOS8出来，我们需要学习extension开发，包括Widget、Today等，我们要学Size Class来适配多种屏幕，还要面临一个新的开发语言Swift；现在iOS9推出这么长时间，各位大牛想必已经明白了Bitcode，HTTPS等iOS9的新特性了吧。

#### 3. 坚持模块化的学习，深入研究
软件开发的大厦是由一块一块的砖头堆砌而成，所以攻城狮应该对一些重要的模块做深度的研究，就拿iOS开发来说，涉及的细节真是太多太多，比如设计模式、XIB编程、证书制作、即时聊天、数据库操作、社会化分享和登陆，就算是开源世界提供给我们的免费的项目，例如AFNetworking、SDWebImage以及CocoaPods等等，随便看看都够我们吸收好久好久。所以建议，不论是刚入门的开发者，还是老司机，都要深度学习自己存在盲区的模块，反复的看反复理解，当这些零零碎碎的知识点被吸收到大脑里面时候，面对一些复杂的场景和蛋疼的需求，我们就能做到游刃有余。

很久之前在知乎上面看见一个问题，一个人问：既然看书过后总是要忘记，为什么我们还是要看书呢。有一个人回到说：看书的目的并不是为了记住书里的内容，我们看书是为了学习别人的经验，增长自己的知识，即使这些知识以后忘了，只要书本还在我们身边，当我们重新拿起书本反复阅读的时候，曾经遗忘的东西又会被我们找回，随着阅读次数的增加和理解的深入，这些知识就深深的映在我们的脑海里面了。

现在我也看各种各样的书，有经济学、社会学、计算机工程学、iOS开发的专业书，往往一本书看完了之后我就放在床头柜子上面，而不是束之高阁，因为我经常在睡前或者周末的早上随手拿起床头的书，再回味一遍，这时候不再像之前一样要一口气从头到尾，而是随手翻看任意的章节，我准备通过这种方式，不断地吸收书本里面的营养。

读书如此，学习编程也是如此，对于一些盲区的知识点，我们要正视自己的不足，多花整块大块的时间去专项研究，反复研究。等到全部吸收的时候，我们也在这个小小的领域取得了很大的突破。

#### 4. 学习另一种编程语言
作为攻城狮，我们工作的编程语言也许只有一种或者两种，我觉得应该开拓眼界主动地去学习其他的我们比较陌生的开发语言。在知乎上面我看了很多关于python神奇功能的文章，而且之前实习时候用python做过服务器、写过脚本，所以最近小半年时间，我一直在断断续续地看python相关的代码，写一些小小的demo。特别是python在数据处理和爬虫这一块真的很强大，推荐大家有空可以学习玩玩。而且作为iOS开发者，最近swift已经开源，学习swift已经迫在眉睫，如果想好好掌握这门语言，我建议各位每天下班时候随手写半小时练练手，贵在坚持，厚积方能薄发。

为什么要学习多种语言呢？我也不知道，我觉得语言都是想通的，但是内在的原理可能千差万别，比如c语言就是编译性语言，Objective-C是运行时语言，这有什么区别呢？我觉得只有花时间去深入学习，深度思考才能找到答案吧。至于选择什么语言作为自己业余编程语言，我觉得python，swift或者ruby都可以作为切入点。记得很早之前的一个leader，他算是全栈工程师吧，当时在团队里面他用Java写后台，同事开发iOS和Android版本的App，我觉得他已经够牛了，有一天下班看见他在看python文档，我说老大你干啥看这个语言啊，他说python是个好东西，可以好好学习学习，他说的话让我印象深刻，可是我过了好久才开始拿起python学习，而且现在还仍然是皮毛阶段。反正技多不压身，有兴趣的朋友可以到github或者知乎找一找python相关的话题和需求，可以试着看看自己能否解决，解决不了了再看看别人的解决方案，这样的一个过程不仅学习了python，而且发散了自己的思维。

#### 5. 专注做好本职工作
其实作为攻城狮来说，我们面临的最大的财富也许就是自己当前维护的产品和代码。为什么这么说呢？因为一个线上的产品，整个公司投入了巨大的人力和物力进行推广和维护，一个项目，有很多人经手，每个人都在代码里面倾注了自己的心血和理解；而且，这种产品只要还有用户，整个团队就会继续投入精力去维护，而不会让这个系统瘫痪。所以我们提升的一个方法就是做好自己的本职工作，在工作的8~10小时内汲取项目的营养。谁也不能保证对整个项目如数家珍，所以如果当前维护的项目中还存在自己认知的盲区和误区，可以花时间好好阅读和吸收一下，有不理解和不明白的可以直接询问周边的大神同事，真的比阅读github代码更加直接。

### 一点小结
以上是本人的一点看法，各位大神见仁见智，各位肯定也有自己独到的想法和见解，快过年了，祝各位事业进步，升职加薪。




## Regular Expression in iOS 20160128
### 参考文档
* CNBLOG - [深入学习iOS开发-四](http://www.cnblogs.com/dyingbleed/archive/2013/05/17/3036113.html)
* 


## 计算机网络方面的一些小知识 20160225
#### 1.1 路由器地址

路由器设置地址有很多种，192.168.1.1路由器设置是最常见的！路由器设置一般说明书上都会有，可以通过电脑来设置路由器地址。

IP地址在一定的区域是唯一的；IP地址分为公网地址和私网地址，上述所说的192.168.1.1属于私网地址。公网地址就是互联网（Internet）上面的地址，全球唯一；私网地址只要在私网内唯一就可以了。

用一个简单的比喻来说明，

公网：一个国家；私网：一个家庭，一个公司。

这个国家（公网）规定在公共场合出现的每个人都必须使用一个唯一的身份ID（公网地址）。

当这个人在自己家（私网），他的身份可以是付清或者母亲（私网地址）；每个家庭（每个私网）都有可能存在父亲、母亲、儿子这样的身份。

这个人在公司（私网），他的身份可能是老板、经理；每个公司（每个私网）都可以用这样的身份。

还有规定：哥哥家庭（私网）不允许私下沟通，必须在公共场合使用全国唯一身份ID（公网）沟通，internet规定：私网地址只能在私网内使用，到公网地址必须使用公网地址。

继续阅读[路由器地址的192.168.1.1?](https://www.zhihu.com/question/21150632)

下面这些都是私网

```
10.x.x.x 
172.16.x.x至172.31.x.x 
192.168.x.x
```
所以我们知道192.168.0.0到192.168.255.255是私有地址，常用的私有地址还有172.16.0.0到172.31.255.255等等，这些私有地址是用于局域网的。罗尤其是链接公网和私网的桥梁，说白了就是专门用于私网地址和公网地址的交换。当然此处所指的是一般家庭用的路由器，真正的路由器是用于大型网络的节点，价格相当昂贵，功能更加复杂。

使用192.168.0.1的路由器和使用192.168.1.1的路由器之间肯定有过异常旷日持久的战争，最后192.168.1.1一统天下，有兴趣的童鞋可以找一找资料，了解一下。


#### 1.2 端口和IP的关系
IP地址是电脑在网络中要来标记地址的一组数字，就像门牌号码一样。比如192.168.1.1；端口是电脑系统对应一些服务所开启的通信通道，比如打开网页要用的是80端口，telnet用的是23端口等等。socket（套接字），就是IP：端口号的形式。

IP能锁定一台物理机器，对应着一张网卡，外界发来的数据包网卡都会接收。但是问题来了，网卡给程序提供了接口，你监听一下我，要是有消息来了我就转发给你。这样应用程序就能收到数据了。但是问题来了，程序A和程序B都需要监听网卡接发数据，网卡说那我把接收到的数据都发给你俩，你们自己看着办吧。好，小A小B都接受了，但是又来了CDEF...，不行了，每个包都被发到了所有应用程序，每个应用程序都累得不行，最终垮了。

好，那网卡说我给你们加个标识吧，我们之间可以用一个号码来作为标识，我和小A之间就用1来标识，如果外界发给1号标识的数据我就转发给你，你监听我的时候告诉我你监听的是1，我就转发1的数据包给你。好了其他的BCD...都自己弄一个标识好，只要不重复就行。这样大家都省事了。

最后涉及到安全每一个标识好只能被一个应用程序监听，因为如果小A程序和小B同时监听一个标志号，那就坏了，因为网卡传输的数据都被AB程序接收到，这样数据安全性就没法保证了。

这个标识号就是端口，其实网卡都是被系统层封装了，端口和进程之间的关系也是系统封装好的。我们只需要用socket就行，给定一个端口号就行。其他的事都交给操作系统去做。

端口只需要简单理解为一个标志就好，比如电脑一和电脑二建立tcp链接，建立一条没问题啊，双方处理链接上传报文就好了，但是要建立多条链接，怎么区分这两条链接呢？那就用一种标志吧，带个数字，这就是端口号。

说到底，一个端口号就是对应一个特定的应用或服务，如下所列，常用服务和开放端口号对照，

* HTTP协议代理服务器常用端口号：80/8080/3128/8081/9080
* SOCKETS代理协议服务器常用端口号：1080
* FTP文件传输协议代理服务器常用端口号：21
* Telnet远程登录协议代理服务器常用端口号：23

HTTP服务器，默认端口号为80/tcp，木马Executor开放次端口；HTTPS（Securely Trnasferring Web Page）服务器，默认端口号为443/tcp 443/udp；Telnet不安全的文本传送，默认端口号为23/tcp，木马Tiny Telnet Server所开放的端口；FTP，默认的端口号为21/tcp，木马Doly Trojan、Fore、Invisible FTP、WebEx、WinCrash和Blade Runner所开放的端口；SSH安全登录、SCP文件传输、端口重定向，默认的端口号为22/tcp；SMTP Simple Mail Transfer Protocol（Email）默认的端口号为25/tcp；POP3 Post Office Protocol（Email）默认的端口号为110/tcp；JBOSS的默认端口号为8080；TOMCAT的默认端口号为8080；Oracle数据库默认端口号为1521；MS SQL SERVER数据库server，默认的端口号为1433/tcp和1433/udp；QQ默认端口号为1080/udp。

#### 1.3 iOS系统推送的原理是什么
iOS在系统几倍有一个推送服务程序使用5223端口。使用这个端口的协议源于Jbber，后来发展为XMPP，被用于Gtalk等IM软件中。

![5223端口](https://github.com/foolishlionel/onehundred-days/blob/master/images/5223port.png)

所以，iOS的推送，可以不严谨的理解为：

苹果服务器吵手机后台挂的一个IM服务程序发送的消息。然后系统根据IM消息识别告诉那个Apps具体发生了什么事情。接着，系统分别告诉这些Apps。

这个消息的内容是这样的，

![iOS推送消息的结构](https://github.com/foolishlionel/onehundred-days/blob/master/images/push_message_struct.jpg)

应该说，苹果这种方式在技术上没有什么创新。但是整个架构是很了不起的。因为：

1. 使用久经考验的协议，技术风险小
2. 苹果用于承担责任，它需要维护一个大家不小的服务器集群，而且要为服务器的down机负责。

选择低风险的技术方案Bug更少，减轻了用户的痛苦，这是架构师的功劳；苹果承担责任，尽可能的减少不可控的意外，保证了用户体验。这只能说是公司决策者的功劳，从侧面说明了有个懂技术的VP是多么重要，而Scott走人了。

苹果的推送服务带给用户的好处是实实在在的，

1. 安全，只有登录过的开发者可以通过苹果的服务器推送
2. 快速，稳定，可靠，因为苹果掌控推送服务器和OS
3. 更加省电
4. 让整个系统的体验更统一和简单，而不会出现杀后台这种脑残事情（不用大量Apps/Apps的服务为了推送挂后台）
5. 开发容易，当然开发者还是要做一些事情，比如维护推送服务器，但是复杂度无疑降低了很多




## iPhone屏幕尺寸和分辨率方面的一些小姿势 20160303
iPhone设备现在有多种分辨率，如下表所列，

| 设备  | 屏幕尺寸  | 分辨率（pt） | Reader  | 分辨率（px）  | 渲染后 | PPI（DPI） |
|:------------- |:---------------:| -------------:|:------------- |:---------------:| -------------:|-------------:|
| iPhone 3GS | 3.5寸 | 320 x 480 | @1x | 320 x 480 |  空 |         163 |
| iPhone 4/4S | 3.5寸 | 320 x 480 | @2x | 640 x 960  | 空 |           326 |
| iPhone 5/5S/5C | 4.0寸 | 320 x 568 | @2x | 640 x 1136 | 空 |           326 |
| iPhone 6/6S | 4.7寸 | 375 x 667 | @2x | 750 x 1334 | 空 |           326 |
| iPhone 6/6S Plus | 5.5寸 | 414 x 736 | @3x | 1242 x 2208 | 1080 x 1920 | 401 |

刚开始看见上面的表格时候，我有三个疑问，

1. DPI和PPI是什么意思？
2. pt和px是有什么不同？
3. iPhone 6/6s Plus分辨率是1242 x 2208，为何渲染后分辨率变为1080 x 1920？

针对以上三个问题，我遵循内事不决问百度，外事布局问谷歌的原则，在网上找了一些答案，以下是简单的解答。

#### 1. DPI和PPI是什么鬼？
DPI（Dots Per Inch）最初用于衡量打印无上每英寸的点数密度，就是说你的打印机可以在一英寸内打多少个点。DPI值越小，图片越不惊喜。

当DPI的概念用在计算机屏幕上时候，就应该称之为PPI（Pixels Per Inch）。同理：PPI就是计算机屏幕上每英寸可以显示的像素点的数量。

Windows系统默认PPI是96，Mac OS系统默认PPI是72.一般费视网膜屏幕的桌面电脑的PPI在72到120之间，使用72到120之间的PPI进行设计基本可以保证你的作品在大多数情况下看起来都差不多。

举个栗子来说：27寸Mac的PPI是109，也就是每英寸有109个像素。显示器宽度（含边框）为25.7英寸，屏幕纯宽度差不多是23.5英寸，所以23.5 x 109 = 2560，由此可见屏幕的分辨率为2560 x 1440px。

视网膜屏幕与PPI：视网膜屏幕是在iPhone4发布时进入大众视野的，叫视网膜是因为屏幕的PPI高到人的肉眼无法看到像素点。从技术上来说就是他们在物理尺寸与上一代相同的屏幕上塞了2倍的像素，如下图所示，

![Retina Screen](https://github.com/foolishlionel/onehundred-days/blob/master/images/retina_screen.png)

这种情况下，不苏傲笑元素的大小，相同尺寸屏幕上的元素精度提高了2倍。原来一个像素的空间现在有4个像素，像素是原来的4倍。

iPhone 4采用Retina显示屏，在物理尺寸不变的情况下，像素成倍增加，达到了640 x 960像素。这样就出现了一个问题，怎样让原有的App运行在新的手机上面？为了运行之前的App，苹果公司引入了一个新的概念point（点），点这个概念在iOS开发中十分重要，而开发者很少关注。iPhone 4屏幕尺寸继续保持320 x 480，不过单位并非是像素，而是点。

在iPhone 3GS中，一个点等于一个像素，也就是说点跟像素可以直接互换；在iPhone 4中，一个点等于两个像素；在iPhone 6 Plus中，一个点等于3个像素。

iPhone 4和iPhone 3GS的屏幕尺寸实际上是一样的，都是3.5英寸。同样一个点，实际上看起来是一样的，只是iPhone 4在单位英寸上像素更多，看起来更加细腻。

#### 2. pt和px有什么不同？
pt（Point）代表点，px（Piexl）表示像素，这是两个看起来很像、却完全不一样的单位，在某些场合它们是1：1的，在很多时候却常常被搞混，或是制作过程根本没有分清楚、导致结果不准确。在绘图软件里面可以看到基本单位设定里面就有这两个选择，

![pt px](https://github.com/foolishlionel/onehundred-days/blob/master/images/pt_px_selection.png)

px，即是pixel，表示像素。是屏幕上所显示的最小单位，在分辨率高的屏幕上，一个像素可能会达到肉眼无法识别的大小，

![retina](https://github.com/foolishlionel/onehundred-days/blob/master/images/retina_with_nonretina.jpg)

pt，即是point，是一个标准的长度单位，定义上1pt = 1/72英寸，英雌他跟我们所熟悉的公分、公尺一样，可以明确的指出1pt的长度是多少，

![pt长度](https://github.com/foolishlionel/onehundred-days/blob/master/images/pt_length.jpg)

pt也是常见的标识文字尺寸的单位，在绘图以及文书软件等几乎都是使用pt作为字体标尺的单位，故一般称呼[字级]时候，通常即是指pt。

pt和px理解青睐其实并不难，在应用的时候也相当单纯，在大部分的情况下适用的一个理论是：当设计的目的是用于供屏幕浏览，则趋向于使用px以方便掌握细节；而如果是为了做输出打印的需求，使用pt则是较好的选择。

在iPhone 3GS时代，分辨率和点是1：1，到了iPhone 4，分辨率和点是2：1的关系，而在iPhone 6 Plus设备上，分辨率和点事3:1，所以为了方便开发人员开发，iOS中统一使用点（Point）对界面元素的大小进行描述，这样分辨率的差异对于开发者来说就不是问题了，在开发层面来说，开发者无需进行分辨率和点的单位换算，完全感觉不到点和分辨率的差异。

当我们说一个iPhone设备的分辨率时候，实际上我们是用的pt（点）作为描述分辨率的单位；当我们和UI讨论图片的尺寸时候，实际说的是px（像素）来作为描述图片的单位。

#### 3. iPhone 6/6s Plus分辨率是1242 x 2208，为何渲染后分辨率变为1080 x 1920？

iPhone 6 Plus除外，其他所有iPhone的PPI是一致的，都是326，用@2x素材。

但是iPhone 6 Plus的实际PPI是401，理论上苹果应该用401 / 326 x @2x = @2.46x的素材，但是这个奇葩的臂力对于开发者而言很难切图，所以苹果为了方便开发者就采用了@3x的素材，然后再缩放到@2.46x的屏幕上，也就是缩放到2.46 / 3 = 83%，实际上苹果选取了一个接近比例的87%。这样算下来，物理分辨率和虚拟分辨率的比率是87%，也就是1080 / 0.86 = 1242，1920 / 0.87 = 2208。好处是开发者更方便，比如准备素材时候，字号可以直接调整为3x的。

让我们再来看一下不同iPhone设备的分辨率和像素的对照表，

| 手机  | pt | px  | PPI（DPI） |
|:------------- |:---------------:| -------------:|:------------- |:---------------:| -------------:|-------------:|
| iPhone 4/4S/5/5S/5C/6 | 10 | 20 | 326 |
| iPhone 6/6S Plus | 10 | 30 | 401 |

对于iPhone 6 Plus之前的手机，pt和px的比例是1：2，而iPhone 6 Plus出来之后，这一比例达到了1：3，同时分辨率达到了1242 x 2208（使用iPhone 6 Plus截屏，再上传到电脑看，就是这个分辨率），而iPhone 6 Plus实际分辨率为1080 x 1920，分辨率的比率为1.15：1。对于ppi，iPhone 6 Plus之前均为326，而之后变为401。

素材资源发生的变化@3x，在实际开发中，素材通常是UI美眉负责提供，从@2x到@3x，素材的分辨率提高了1.5倍，例如一个@2x的素材大小为44x44，那么响应的@3x大小分辨率为66x66，文件命名的方式依然没变，$(IMG_NAME)@3x.png，命名好的文件丢入资源文件夹内，只要代码报纸一直，文件名称不变即可。



## 读书之路真是路漫漫也 20160303
讲真，科学技术的发展让当代人真是享受了太多前人不敢想象的福利和便利。但是当前社会快速高节奏的生活方式，也让我们有点迷失，会想下自己每天的生活状态，是不是早上起来玩手机，中午玩手机，吃完玩手机，睡觉玩手机，办公用电脑，每一天我们从电子设备上面摄入了太多太多的垃圾信息，刷朋友圈，看新闻，网购，这确实大大地方便了我们的生活，但是如果每一天都这样，我们的生活是不是被手机、电脑、游戏以及网购统治了。

其实我们大多数人没有意识到自己的圈子很小很小，一年也就跟那么几十个人打交道，也许定期地去旅行是个不错的选择，看山看水看日出看云海，交朋友，释放心情释放自己；同样我们每年摄入知识的渠道也真的很窄很窄，基本上工作日都忙于公司或者组织的任务，在专业方面确实不断地学习，也做到了熟能生巧，也能足够的应付养家糊口的工作了。但是这样的生活真的就足够应付生活了吗？也许这样做一个宅男腐女，一辈子也能凑合混过去了。可是人啊，还是要努力花点时间提升下自己吧。

提升自己比较快的方法，也许就是多看书吧。有的人喜欢用手机或者平板电脑看书，但是我强烈建议一定要买纸质书去阅读，这是两种完全不同的感受，纸质书阅读时候可以让你放下心里的杂念，专心致志，而且便于做笔记、做书签，理解的会更加深刻。

### 1.我的阅读之路
我也不清楚自己什么时候开始喜欢看书的，记得刚刚工作的第一年，有一次周末实在无聊，在外面闲逛没地方可去，无意中进了一个书店，当时真的有种不知所措的感觉，书店真是太大了，里面的书琳琅满目，我随手翻一本都感觉喜欢的不得了。后来晃悠了大半天，买了《明朝那些事儿》第一、第二部，之所以选择当年明月的《明朝那些事儿》，是因为这本书声名在外，我早有耳闻，这次逛书店恰好看见，就果断买了。毕竟随便买书的话，估计会买到坑吧，犹记得大四时候，买了一本爱情小说，简直味同嚼蜡，so，买书要买口碑好的。

回到宿舍，我就躺在床上开始阅读了，那天真是入了迷了，从下午四点一直读到晚上十点，我读书比较慢，也就看了第一部的一大半吧，主要就讲的朱元璋的创业史。你知道的，读历史方面的书，其实挺残酷也挺让人厚黑的，朱元璋手段强硬杀人如麻，确实让当时的我挺心惊的。其实这两本书就当做大白话的故事书读的吧，毕竟也算简单了解下明朝的皇家历史了。这两本书大概花了一周多读完了，因为这种故事书确实就是一路读下来，不用太多思考和咀嚼，而且描写也很精彩和幽默，所以这大概是我看的最快的书了吧。

当然后面还有三四五六七，我当时穷屌丝，没有一块买了，读完了之后我就把一二两部束之高阁，这是我读书的一点点小小的开端，后面我都沉迷于看游戏直播和体育直播，大概一年多时间没看书。我也不知道那段时间怎么过的，反正我陆陆续续买了一些技术方面的书，不过都没有看，比如大部头的《代码大全》，《iOS开发...》以及《Objective-C设计模式...》等等，专业书读起来也真是虐心啊，可能当时跟好朋友合租，每天就想着做饭做菜出去购物吧，也没有安静的心情去读书。

### 2.读书就要买买买
有段时间老是失眠，天天刷知乎刷的飞起，在知乎才知道别人多么的高大上，人家高学历颜值高工作好回答精彩，我也看见不少热心的答主会推荐一些书，那时候没太在意，后来看的推荐多了，我就试着买了一本历史方面的唐德刚《从晚清到民国》，这本书还是很颠覆我的三观的，比如当时的义和拳运动，以及袁世凯的功过，感兴趣的可以买了看一看，历史事件和人物也许并不是教科书说的那样，我也忘了具体细节，且不剧透了；后来又看了别人的回答推荐经济学方面的张五常《经济解释》、曼昆《经济学原理 -- 宏观经济学》，可是这种大部头的书挺难懂的，这种书不像故事书一样一路读到尾，往往还是要反复看、理解，这两本书都还没看完，也许值得一辈子反复看吧；后来有一次逛书店，买了一本《全球通史》上部，这本书确实挺不错的，看了一半，感觉从古至今、国内国外的独裁者杀人都挺吊的，这是我第一遍的阅读感受，也许现在的我心态就是比较偏激和相信暴力吧，后面再读，是否有不同的感受呢？I don't know；最近看完了《再看电商》，自己身处互联网行业，还是要了解下线上到线下的这种转换，以及作为电商公司面临什么样的压力和挑战；同时也花了不少时间过了一遍《房地产税离我们并不远》，因为自己去年看了很久的房子，对于买房什么都是一窍不通，在书店看见这本书就顺手买了，学到了点皮毛，不足一提，后面还会再反复看。说到《房地产税离我们并不远》，我得解释下为何我《全球通史》上半部只看了一半了，当时我在按部就班地看《全球通史》上半部，可是那时候急着看房，觉得历史方面的书可以缓缓在看，《房地产税离我们并不远》这种书更加贴近现在的我，所以先看了。

我还有什么书没看呢？宿舍貌似还有一本《Python学习手册》，这本书作为计算机编程方面的书，我也只是看了看目录；还有一本《白夜行》小说只翻了开头，这本书是在豆瓣看见的，然后到知乎看了看评价，人家都说好，那我就买喽，其实买这本《白夜行》是为了送妹子的，去年过年前一直在追女神，心想女神送女神一本书吧，当时网上看了评价好久，选择了《白夜行》和《百年孤独》，当然《百年孤独》留给了自己，《白夜行》送给了女神。前几天女神看完了《白夜行》，我的《百年孤独》刚看了一半，然后我们互换了书，呵呵达。

今天20160303，买了好几本书，《算法导论》、《从1到无穷大》、《血酬定律》、《Git版本控制管理》和《iOS数据库应用高级编程第二版》，三本书送人，自己留两本，现在发现买书送人实在是把妹交友神器啊，看完了还可以换了看，有花不了多少钱，又有逼格，实在是居家旅行的必备神器呢。

读者也看见了，其实我买的多看的不多，我也不知道为什么，我就是喜欢买，之前有朋友跟我说买书挺花钱的，我心想还好吧，一本书平均50不到，我今天买的五本书总共也就220左右，就相当于周末出去吃了一顿大餐了。为什么我喜欢不断地买买买呢，我也不知道，虽然看的慢，但是我基本每天都在看啊看，其实当我决定把购物车里面的一本书付现时候，我肯定已经快要看完一本书了。每天都看，然后想着下一本书买什么，这样就保证了自己一直想看的书都不断。最关键的是：可以装逼！！

从去年2015十一月到2016三月，我同时还在追一部小说，冰与火之歌已完结的前五卷，当然是用公司的iPod看的，其实看的挺纠结的，只能在上下班地铁和带薪拉翔的时候看一会，中午休息时候我都看纸质书，难得难得，《冰与火之歌》（杀与操之歌）前五卷快看完了，看完了以后我真的得放弃电子书了，因为有了电子书，我经常熬夜看到一点多，作息完全没规律，睡得晚起得迟，上班没精神，所以说还是纸质书亲切啊。其实阅读冰与火之歌耽误了我之前制定的读书计划，本来看到第二卷结束时候就准备弃书的，但是想想还是继续读完吧，毕竟做事不能半途而废，本来计划每天下班呆宿舍时候看看大部头的《代码大全》和《经济解释》的，后来基本上都花在了《杀与操之歌》了。好在万幸，快看完《冰与火之歌》了，接下来得好好执行自己的看书计划了。

### 3.读书遇到的困惑和挫折
其实读书习惯的培养真的挺难，毕竟现在我们可以通过太多的渠道摄入各种信息。就比如我来说吧，作为一个伪球迷，经常关注巴萨罗那、阿森纳的比赛，也会关注NBA，每天午休时候总是习惯性看下赛事比分，有时候收到了新闻推送，也会不知不觉盯着手机App看了好久，然后就没有精力看书了。可能有人会奇怪，看书还需要精力吗？我想说确实是的，只有精神饱满，注意力集中，才能快速阅读，快速吸收。

好在我现在把自己从沉迷手机的泥淖中拉出来了，其实手机对于我来说，更多的是查收一下微信消息，关注一下24小时快讯，刷一两条知乎。我觉得微信朋友圈做的真是好，我之前各种愉快、不愉快、开心、失落、兴奋、失望、冲动的时候都会在微信朋友圈发表说说，去年年底我看了下我发布的朋友圈说说累计有200多条，回味一下，发现自己不过是无病呻吟，看着以前的自己，自己都觉得好笑，后来我朋友圈的说说全部删除了，然后开始约束自己不看朋友圈不随便发动态。这样虽然不能及时的关注朋友们的最新动态，但是我觉得自己内心也收获了一种平静。

我觉得看书还有一个挫折可能是大多数人都会遇到的，就是看的书太晦涩难懂，难以咀嚼，比如我看经济学原理时候，这本有太多的经济学的专有名词，虽然书本说的很生动形象，但是对于一个门外汉来说还是有一种懒惰的思维，不肯去琢磨专研，不肯思考记忆，所以这种书看着看着很有挫败感；再比如技术类的大部头书，我看的《Web性能权威指南》，基本上看了也记不住，有的地方也理解不了，大概就是囫囵吞枣的糊弄过去了，有时候回头看看，貌似理解了，但是还是记不住。我不知道这样在稀里糊涂的情况下看完的书有什么意义，而且有时候头脑会想啊想，想的头疼。现在想想，如果看不懂的话，一定不要着急，反正看书的时间有的是，要稳定心态，慢慢吸收，我看《经济学原理》后面有很多习题，都可以帮助我巩固和复习专业名词；《算法导论》后面也有很多习题，其实还是要通过实践来加深理解，不能一味地埋头苦读，这样的话脑子里面积累的疑问越来越多，失望和挫败也会越来越严重。

最后一点建议，希望喜欢看书的人不能一味地专研技术，其实思考技术太消耗我们大脑的能力和身体的精力，有时候也要用一些科普、人文、历史类的书来中和一下，这样头脑处在放松和紧张的状态，不会一直太疲劳，才能保证看书的乐趣。之所以有这样的建议，也是我自己的一点读书体会和感受，我最近买了太多的技术书，却少了一些人文和小说书，所以一直埋头在技术书本中思考，每天的工作已经有点超负荷，下班和周末时候还想着技术方面查漏补缺，确实超出了自己头脑的承受范围。以上是我的小小的建议，希望对读者有益。

### 4.看书有什么收获
最近在午休时间一直看的是《Web性能权威指南》，这是网络方面挺不错的书，作为一个码农，我的网络基础简直就是渣渣，这本书不算大部头，讲解的也很详实生动，看的过程中都在不断地回头重看，我估计看完这本书，其实已经看了两遍。在阅读这本书的过程中，我起码理解了一些网络方面的基础姿势，什么三次握手、网络分层啥啥啥的，算是对自己的一次网络姿势科普吧。总得来说，我看了比不看强，对吧？看了这本书，发现自己不在把自己的视野仅仅放在工作时候的编码上面，而是跳出了简单而枯燥的编码，思维已经想的更深了。

当然还有个收货就是装逼成功，吃饭的时候有些同事说97现在在研究黑科技啊，每天中午都看书，等研究好了绝对吓人。哈哈，还要谢谢同事的关注和认可，其实我读的很累很慢，但是也在反复的理解和咀嚼，说不上黑科技，只是对自己的思想和专业技能进行强化。有时候自己在做一件事情，也许没有做到的人都会觉得我挺难得吧，这逼装的，我给自己9分。

20160401
--------------
## 税收的事都是大事儿


### 什么是分税制
[知乎周晓农的回答http://www.zhihu.com/question/19679485/answer/14790135](http://www.zhihu.com/question/19679485/answer/14790135)

新中国建立后至１９８０年，即<font color='red'>1949~1980</font>，我国基本上实行的是中央财政`统收统支`体制，少数年份是税收收入地方全额上交，多数年份是地方少有留成或分成，用钱由上级统一拨付。这种做法，在建国之初，体现为集中财力，解决国家的困难，但越来越严重地压抑了地方发展经济的积极性。

进入改革开放年代后，开始实行分灶吃饭，即一部分税收归中央，一部分税收归地方，并明确了中央和地方的支出范围。收大于支的地方，按一定比例上交中央，支大于收的地方，在一些税种中给一定比例给地方或由中央财政补贴。所谓分灶吃饭的意思就是：地方不再主要统一从中央财政分钱，有了相当大一部分自收自支的权利。

这样的结果是，地方有了发展经济的积极性，地方经济发展很快，同时，为了有利于地方财政收入，各种地方保护主义兴起，而且中央财政迅速吃紧，中央财政收入在全部财政收入中只占到了两三成。出现了中央向地方借钱用的状况，甚至发展到财政部向地方借钱很困难的地步。当时，财政收入高的是广东和江苏等省，当时有说法，财政部借不了，由国家领导人直接开口借，有的地方领导人说，要钱没有，要命有一条。

于是在上世纪８０年代中期起，就酝酿分税制，到<font color='red'>１９９４年</font>，我国开始实行分税制。将税收划为`中央税`、`地方税`和`共享`税三种。由此还在省以下地区，出现了国家税务局和地方税务局，划分职责，各征其税。

在全部税收中，共享税在税收总额中所占比例最大，主要由增值税、营业税、企业所得税等构成。中央和地方的分成比例，大体是增值税７５％：２５％，企业所得税的分成比例大体是６０％：４０％。印象中，这以后，中央财政收入多时所占比例高时曾达全部收入的６０％。到２０１１年，中央和地方财政收入大体各占一半，地方比中央约高１个百分点。在全部财政收入中，由税收产生的财政收入要占到９０％以上，其余为非税收入。但在全部财政支出中，地方达９．２万亿，占８９％，中央财政收入大部分通过税收返还和转移支付的方式，给了地方。

分税制以后采用的数据，为国家公布的财政数据，颇有争议的各种隐性税负，不在其中。

以上是我国分税制的来历和大体现状，意在说明一下，我国为什么要搞分税制。下面说一点简单看法：

一、我国的分税制不是彻底的，比分灶吃饭进了一大步，但也有人说只是分灶吃饭的完善和升级。原因是税收的立法权归中央，地方没有立法权。按照事权与财权匹配的关系，地方在没有钱时，感到财权不足以支撑事权时，要么向中央开口，要么会产生各种费的征收，乃至抬高地价等等，来增加收入，其中不少未纳入预算。比如土地出让金，除一部分要上解中央外，大部归地方，据说要纳入预算，不知现在如何了。这也是房价下不去的来由之一。

二、在中央的转移支付中，有两部分钱，一部分叫一般性转移支付，一部分叫专项转移支付。这两块钱比较活，尤其是后一项。所谓跑部进钱，后一项尤甚。大量的钱的分配权，被部委控制，长期以来也被诟病为导致腐败的原因之一。不要小看这个钱，这个钱往往是带项目的，还有银行贷款匹配。大的项目，要经过发改委，能否获得，和相关的国家部委关系极大。每年财力分配时，部委对这个钱争得也厉害。今年的情况是，按新的预算法修正草案，实行以一般性转移支付为主的办法。预算总量３．９万亿，其中一般性转移支付２．２万亿，专项转移１．７万亿，一般性转移支付，超过了专项转移支出。

三、实行分税制后，凡对地方不利的部分，也都引起了不满，但只能执行。一些农村地区财政入不敷出，农业税是地方税种，农村还实施三提五统（村提留乡统筹，由农民出），在不少财政拮据的地方，除这两项税费外，还发生了许多摊派现象。在一些烟区（烤烟税烟区地方税大税），还出现了“少交烟一百斤，罚款１００元”的大标语。一方面，国家政权在地方的存在，出现支付危机，另一方面，农民负担加重，甚至逼死人命，出现了许多抗缴的群体性事件。直至２００４年，国家财力增强，全国免除农民税费，才得以解决。同时由于地方仍要抓收入，所上项目大量增加，主要矛盾，又变成了征用农民土地拆迁房屋的矛盾了。

四、公共财政的建立，仍存在诸多问题。例如，我国西高东低，所有的河流来自西部，流往东部。西部是东部的生态屏障，西部人士长期呼吁，东部应给予西部生态补偿，虽然国家在退耕还林，天然林保护等方面也有投入，但西部地区认为仍然远远不够。

五、在这种情况下，GDP不仅是政绩，而且是税收的重要来源。最能直接迅速产生GDP和税收的是投资，项目越多，意味着财政拨款多，银行贷款多，然后便是建安等各种税收多。至于这些项目，最终能产生什么效益，或者是远期可能有效益，地方往往就顾不了这么多，先上了再说。这样产生的税收，往往是银行贷款搬家。这也就是我国不少产业趋同化以至过剩，还在拚命上马的深刻原因之一。

又说多了，得打住了。总之，这个问题很复杂，不易说清。一个国家如果偿失了财力控制，这个国家会分崩离析，一个国家的各行区域，如果没有积极性，国家将无以聚集财力。长期以来，我国就存在中央和地方的关系问题，其中财税体制，是重中之重。如果有知友耐心看完我的答题，应该能感觉到这个问题的复杂性。这个问题的进一步改革，涉及到政治体制改革。比如，仅一般转移支付的力度加大，就涉及到相当一部分国家部委权力的缩减，由此也可看到政治体制改革中国家某些管理形式可能将要发生的改变。分税制是市场经济国家通行的一种办法。下一步，具体还会怎么搞，怎么完善，现在真不好说。在现行体制下，如果一下子放开，让地方有税收立法权，难以想见，各地企业和公众，会遭遇什么样的税负结果。

作者：周晓农
链接：http://www.zhihu.com/question/19679485/answer/14790135
来源：知乎
著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。


94年实行分税制改革是中央当时必须做出的选择，
因为中央财政已经到悬崖边上了，非改不行。当时财政收入和税收秩序的状态是：
1、中央财政占总财政收入的比重不断下滑，83年还是36%，到93年只有22%（现在维持在55%左右），完全无法维系庞大的财政支出，赤字巨大，以92年为例，全国财政3500亿，中央到手1000亿，支出2000亿，赤字1000亿，长期向央行挂账。到了93年，情况更为恶劣。中央支出项目没有减少，硬缺口更大，而朱宣布不允许财政在向银行透支，当时已经到了不借钱不能发工资的地步。中央财政羸弱不堪，更别提什么宏观调控了。事权财权分配完全倒挂。
2、全国税收增长远远低于GDP增速，财政收入占总GDP的比重不断下滑。到93年这两个指标相当危险。80年代后期到90年代初，GDP的增速在20%左右，而税收增长才只有其一半。这也说明了为什么支出缺口会越来越大。造成这种局面的原因主要就是当时的包干体制，中央对增量要求分成，地方的积极性完全无法调动，税收收入增长缓慢。也造成地方政府和企业利益捆绑，藏税与企，别提什么应收尽收了。比如说上海，当时实行的是定额上解加递增分成的模式。定下每年财政收入165 亿元，100 亿元归中央财政，65亿元归地方财政，每增加1亿元，中央与地方五五分成。结果，上海实行财政包干五年，财政收均在163 亿元165 亿元之间，一点没增长。
3、税政制度和征管混乱，各地各自为政，无法实现全国一盘棋的状态。各地不同的税收政策，不同的税率，地方不想被增收分成，就压制税收增长，该收的不收。但同时又摊派各种费，乱七八糟的部门全来参与国民收入分配。财政分配的职能被大大削弱。当时中央财政的地位相当低，由于不够钱花，只能向地方要贡献。同时因为税制既不统一又多变，地方对中央缺乏信任，都藏着掖着。

当时的包干制和现在分税制的内容就不提了，楼上都非常详细了。

实行了分税制后，至少在两方面得到了强有力的改善：
1、中央的财力大幅增加，事权财权分配渐趋合理。各地积极性被调动，税收增幅大幅拉升，全国总盘子越来越大。中央比重超过50%。中央宏观调控能力大大增强。财政收入占GDP比重也不断提高。所以这些年一些结构性减税政策的下发和执行也是以此为必要条件的。
2、税制稳定统一，地方税企分开。针对不同税种的中央地方分成比例，全国公开统一。同时在税收政策的制定上，包括流转税条例、以及陆续颁布的所得税法、征管法等也朝着更为规范统一的方向发展，政策执行和征管质量提升，税收秩序更加有序。同时与企业的界限关系更加明晰，类似计划经济那一套渐退，企业更加市场化。

当然，现在的分税制也有很多问题，上面都说了，我就不说了。

作者：王璐
链接：http://www.zhihu.com/question/19679485/answer/15728991
来源：知乎
著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。

分税制的影响极其深远，包括但不限于以下几点：

1、直接提高了两个比例：财政收入占GDP的比例，中央财政收入占全国财政收入的比例。换言之，政府对国民财富的汲取能力加强。中国宏观税负从分税制前后的15%左右（个人印象）到今天的35%左右。中央政府财政收入占全国财政收入的份额也从3成提高到5.5成左右。

可以看这么几个数据：2012年GDP为1994年GDP11倍多，2012年的政府收入为1994年的35倍多，
从1994年到2012年，GDP年均增长约为14.3%，财政收入年均增长约为22.5%，而同期居民收入年均增速大概只有7%。

BTW：从某种程度上来说，今日的公务员热也与此有关。随着政府掌握的资源越来越多，公务员自肥的现象越来越突出，直接导致了公务员热，回想上世纪90年代出现的公务员大批下海经商潮，真是恍如隔世，其背景正是政府财政困难。

2、改变了中央和地方的权力格局。分税制之前，中央政府由于财政弱势（最穷时中央财政屡次向经济大省如广东等省份借钱开支），权力也弱势，整个权力格局强枝弱干的格局，地方政府在博弈中处于强势，在政策和经济事务中也有较高的自由度，（整个八十年代和九十年代初给人的感觉也是整个国家朝气蓬勃。分税制后，虽然中国经济仍然高速增长了二十年，但此后更多是“开放红利”而非“改革红利”，即经济发展最大贡献因素是中国加入世贸组织，使得人口红利得以发挥成为世界工厂。）分税制后，随着中央掌握的财政收入越来越多，其所支配的转移支付的资金越来越多，跑部钱进成为主流， 地方的省级官员在财政部发改委这些强势部门的处长面前都像孙子一样。

3、建立了中国经济发展的激励机制，为经济发展提供了政府层面的动力。分税制建立了这样一种机制：经济发展的越好，财政收入就越高，当地官员就越容易升官。在这种机制下，中国地方政府的行为模式更像一个公司，而非一个公共服务的提供者，政府全面介入经济建设。地方政府官员对经济增长的强力推动客观上成为中国经济增长的重要推动力。并且由于GDP直接和财政收入挂钩，且也是影响就业等诸多重要议题的关键因素，GDP逐渐成为官员考核的核心指标，而环境成为被牺牲的次要方面。

4、决定了中国经济的结构，成为日后的中国经济结构失衡的重要原因之一。分税制建立了以流转税为主体税种的税制结构。地方官员的对上负责机制和有限任期结合在一起，导致地方官员想发财（任期内增加财政收入）的最好方法是招商引资和大力投资、发展制造业，尤其是重工业，投资多，来钱快。造成中国在全球范围内独树一帜的高达50%以上的奇葩投资率，为了支持投资和经济增长，资金利率、水电煤土地等各种要素的价格长期被人为压低，彻底的市场化经济体制迟迟无法建立，并直接导致了收入分配格局更加偏向于资本而非劳动力，收入差距急剧恶化。

5、塑造了今日房地产的格局。地方政府收入比例下降，投资所需资金和基本公共服务的支出责任越来越大，地方政府最后找到了经营城市和出让土地的方法来填补这个资金缺口，地价和房价的挂钩效应导致地方政府最有动力推高房价的参与者。虽然朱镕基曾经辩解说问题在于土地出让金不应该交予地方政府自由支配，而应收归中央。但个人认为这个辩解是非常无力的。在中央财政已经掌握大部分财政资源的情况下，再将土地出让金收归中央支配是不太可能的。


6、为日后的宏观调控的模式奠定基础。中国宏观调控最主要的特点是极强的行政化色彩。中央政府之所以对地方政府的控制力并不是来自于行政层级关系，更为实质性的是转移支付的资金、投资大项目的审批权以及人事的控制权。而分税制是前两个因素的直接来源。

7、改变了中国改革的方向。中国向市场化改革的方向一度非常坚决，分税制之前，中国经济面临诸多严重问题，危机催生改革，朱镕基主导的改革也是迄今为止中国最为市场化的一场改革，尤其是大力推动的国企改革也一度取得很大进展。但是分税制，政府日子越来越好过，地方政府热衷投资，国企备受亲睐，与国企争夺市场和资源的民企备受打压，国进民退愈演愈烈。中国的决策层也对这种市场经济和管制经济的杂交形态非常满意，日益自信（御用文人称之为中国模式），改革意愿日益下降，认为能够走出一条中国特色的道路出来。

作者：熊剑锋
链接：http://www.zhihu.com/question/19679485/answer/21598485
来源：知乎
著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。
### 分税制对我国经济产生了什么影响



巴拿马文件泄密风暴越吹越劲。继日前习近平、李鹏等政要被爆家人涉离岸公司，昨国际调查记者联盟（ICIJ）披露，中共现政治局常委刘云山、张高丽等现任和前任领导人亦榜上有名。全国政协前主席贾庆林更被揭，在北京反腐运动如火如荼之际，其外孙女李紫丹于去年底豪掷3.87亿港元购买傲璇（OPUS）一单位。

日前，ICIJ已踢爆包括习近平姐夫邓家贵在内，众多中共政要的皇亲国戚涉在海外有离岸公司，其中贾庆林的外孙女李紫丹在美国史丹福大学就读时，已是‌‌“Harvest Sun Trading‌‌”和‌‌“Xin Sheng Investments‌‌”两家离岸公司的单一股东。这两家公司还在北京注册了咨询公司。换言之，贾庆林在位之时，外孙女就拥有多家公司。

昨日有本港报章披露，李紫丹去年11月以3.87亿港元购入太古OPUS三楼一个单位。查册显示买家是以‌‌“Jasmine Li‌‌”的名字登记的。李紫丹则在上月与父亲李伯潭在港注册一间名为‌‌“昭德医疗控股有限公司‌‌”，查册交易资料与公司登记中，Jasmine Li与李紫丹的身份证号码相同，确定为同一人。

睇楼客户须有50亿身家

OPUS位于港岛司徒拔道53号，为香港著名的顶级豪宅，由太古地产开发；美国著名建筑师法兰克．盖瑞（Frank Gehry）设计，是他在亚洲首个住宅项目，每个单位有不同的室内空间及享有360度环回景观，大楼结构呈螺旋形，全幢共有12个单位。李紫丹购买单位的建筑面积5,132方呎，成交呎价约75,429元，每月管理费达5.4万元，管理费贵绝全港。要预约参观实景楼盘的客户，必须有50亿元以上身家。

今年24岁的李紫丹，母亲名贾蔷，父亲李伯潭毕业于中国人民大学，曾在中国银行资金部当交易员，后移居香港任英资Harlow Butler主管，现为中瑞酒店管理学院董事长、北京昭德投资董事长等。李17岁活跃于欧洲社交界，曾出席巴黎Crillon Hotel举行的名媛成年舞会名噪一时，史丹福大学毕业后在纽约发展，成为网上艺术零售商Artsy纽约及香港的联络人。

贾庆林是中共前朝江泽民的嫡系，90年代主政福建时被指涉厦门赖昌星远华集团走私案，但获江袒护过关，且官运亨通，直达常委兼全国政协主席，2013年退休。北京时事评论人士章立凡对本报表示，巴拿马文件显示，习近平所倡导的反腐运动，实际上是挂羊头卖狗肉，自欺欺人。




我被陌生男人差点拖走的经历
一大早就想着今天要把这事写出来，忙到现在才有半小时空，我尽量写清楚。

声明：真实经历，时间是2013年的7月，地点是上海锦绣路地铁站附近的一个大型超市（超市名忘记了，可能是家乐福）外的一家快餐店。

那时刚到上海，房子还没租好，借住在同学那里。那天大约下午一点左右，我出门去超市附近吃饭。进了一家快餐店，一点的时候已经没什么人，快餐店很大，我点餐之后走到最中间的位置坐下来了。

这时一个用遮阳帽盖住全脸的男人走进店里，径直走到我面前，跟我隔着一张桌子。（在淘宝上找到他戴的那种帽子，那男人也差不多戴成这副样子，见下图）

那人开口问我要两块钱，说是没钱坐公交回家了。我当然吓到了（而且抬头看过去，他的右耳附近的脸部还有很深的疤痕）。赶紧拉开钱包拉链，抽出一张十块钱给他，表示你拿走吧不用还。但他拿了钱仍旧站着不走，一定要我给电话号码给他。

我一直也没想明白他为什么一定要电话。难道是给了电话之后再拖我，如果有人阻拦，他会以‌‌‌‌“能拨通电话‌‌‌‌”这一点来说明跟我认识？不过当时是没有一点思考余地的，全凭直觉行事，就是觉得不能给，一直说‌‌‌‌“就十块钱没什么大不了不用了‌‌‌‌”。

他要一次电话，我拒绝一次，并且各种提议，比如‌‌‌‌“你还给这里服务员好了我经常来这里他们会给我的‌‌‌‌”。拒绝了之后就一小段沉默。然后他再次开口要电话。陷入在这种僵局中好几分钟。

因为看过人贩子的报道，所以心中的害怕可想而知，僵局持续着，我感到两条胳膊撑在桌上都发抖了。店里的服务员很多，头不动在视线范围内都看到好几个，擦桌子摆凳子的，但没有一个人上来过问一句。当时心里就是惊恐+绝望

我猛地站起来，想往点餐的方向跑。根本没迈开腿呢，就被他一把扯住了我的左手腕。我没有尖叫（好像平时就不会用尖叫表示惊恐）。只是说话声音大了，厉声问他‌‌‌‌“想干什么？！‌‌‌‌”那人就开始演，说‌‌‌‌“老婆跟我回家吧‌‌‌‌”之类。听到这话我心都塌了，之前还疑疑惑惑，现在知道真的是人贩子了。努力想把手腕抽出来，但根本不可能，那人的力气得有我的十倍大。这时店里所有人都朝我们这里看了，但仍然没有人上来过问，甚至原来近处的服务员都退远了！我把脸转向柜台，朝服务员喊：‌‌‌‌“大家看清楚了，我怎么会是这人的老婆！我是大学生戴眼镜，怎么会是这人的老婆！‌‌‌‌”

这话说得有点奇怪，我很少用‌‌‌‌“大学生‌‌‌‌”来指称自己，而且那时上班都好几年了，早就不是学生。但这句话很有效果，有两个服务员往前走了两步。也许那个人贩子道行浅吧，见有人要过问，他就撒了手，不说一句话开溜了。

可能是我的直觉抓到了一个重要的点：那个人是五大三粗的体格，面罩遮住脸，衣服也穿得很潦草。而我本人是纤瘦的，非常学生气的外形。所以情急之中，我就用了‌‌‌‌“大学生‌‌‌‌”‌‌‌‌“戴眼镜‌‌‌‌”这样的标签来突出这种差异，戳中了服务员的心理。或者，由于我的嗓音是中音，说话严厉起来还颇有威严，并且全程没有崩溃，导致人贩子不敢放肆。当然也有可能这些都是我想多了，能脱险的原因就只是人贩子经验不足而已。

人贩子走了之后我很生气地问服务员：‌‌‌‌“他站在那里那么长时间，你们为什么不过来帮我？‌‌‌‌”

他们纷纷表示：‌‌‌‌“看他站在那里和你说话，以为你们认识呢。‌‌‌‌”

只有一个女服务员还算诚实，说：‌‌‌‌“我看他戴着黑面罩，吓人，不敢上去。‌‌‌‌”

唉！还能说什么呢！

担心人贩子没有撤退，还在附近盯着，而这个餐馆服务员的冷漠令我觉得靠不上他们，我就飞奔去了超市前台。和前台两个大姐简述了事情经过，请她们叫超市的保安来。然而，两个大姐更冷漠，直接说：这个我们管不了的，我们没办法的。我只好要求她们让我进前台柜台里面的小房间，在小房间里打了110。110只是问了几句，也没说出警，也没安抚我不要害怕，就说：‌‌‌‌“那你观察一下，如果有可疑情况再给我们来电。‌‌‌‌”

操！一万个草泥马心中咆哮而过。光天化日，超市卖场里熙熙攘攘的人群，我愣是体验了一把叫天天不应叫地地不灵的感觉。在小房间里待了二十分钟，我也焦躁了，箭步冲了出去，开了自行车，跨上去猛骑，骑到锦绣路地铁口扔了车，跑进地铁又从另一个口奔出来，拦了一辆出租车，打的回到住处。当时的想法是，不能让他尾随我回住处，这么折腾一通，估计能甩开。

110后来没再联系过我。超市根本没有记我的号码，当然也不会联系。事情就这么结束了。世界又恢复了美好祥和了呢！

这件事对我的影响是：

1. 那天穿的是短裙，从那以后一个人出门再也不穿短裙，尽量穿酷的、中性化的衣服。我的观点是，穿非常女性化的服装，虽然自己觉得一切如常，并没感觉就变娇弱了，但在别人或坏人眼里，你就是变弱了，变成了一个更易侵害的目标了。

2. 开始关注人口贩卖问题。（今天没时间写了，以后补充）

3. 痛恨家庭暴力。要不是存在‌‌‌‌“打孩子打女人不算犯罪，家务事外人不能管‌‌‌‌”的观念，人贩子们能以这一招频频得逞吗？前两天在家就听到有邻居打孩子，小孩哭得撕心裂肺。因为不知道是哪一家，我就站到楼道里吼了三遍：‌‌‌‌“再打孩子我要报警了！‌‌‌‌”然后就平静了。

4. 深深地领会了契诃夫在小说《醋栗》里的那段话：

‌‌‌‌“幸福的人之所以感到幸福只是因为不幸的人们在默默地背负着自己的重担，一旦没有了这种沉默，一些人的幸福便不可想象。这是普遍的麻木不仁。真应当在每一个心满意足的幸福的人的门背后，站上一个人，拿着小锤子，经常敲门提醒他：世上还有不幸的人；不管他现在多么幸福，生活迟早会对他伸出利爪，灾难会降临－－疾病，贫穷，种种损失。到那时谁也看不见他，听不见他，正如现在他看不见别人，听不见别人一样。可是，拿锤子的人是没有的，幸福的人照样过他的幸福生活，只有日常生活的小小烦恼才使他感到有点激动，就像微风吹拂杨树一样。一切都幸福圆满。‌‌‌‌”

当我陷入绝境的时候，正如这段话里所描述的，谁也看不见我，听不见我。假如我真被贩到大山里了，也只是一个家庭毁了，我的事情不会被报道，不会变成大范围的抗议游行，治安管理不会因此而有任何一点改进推动。在我之后，每天仍然会有儿童失踪、年轻女人失踪，而他们失踪的故事，永远也只能在小范围流传，听到的人都将信将疑。社会幸福感坚不可摧，不会为一些影影绰绰的故事所动摇。

就酱。

延伸阅读：

@躲狮狮：如果有陌生人强行拖拽你，该如何有效呼救

破坏身边够得到的一切，最重要的是让路人知道你并不认识这个正在伤害你的人。

所以如果我们也遇到了类似的状况（也就是有陌生人强行拖拽你，被别人误以为你们是认识的人闹矛盾），要如何有效地求救呢？

我们总结了一些网友贡献的方法，虽然有的看起来有点绝望（可能需要整个社会集体反省），但关键时刻的呼救，一定要一击制胜保命优先！所以我们目前能做的，最有用的可能就是这些：

1. 抢过路人手机砸掉，或者抢路人背包，强行把陌生人牵扯进来，起码多一个人在现场。如果周围的人都冷血，我们只能破坏他们的利益来让他们不得不管。

2. 如果周围有小商贩，就尽可能推翻他们的货摊，至少这样摊贩就不会让你随便离开。

3.如果在酒店，尽力破坏酒店设施，实在不行砸碎酒店大门也行。这样起码酒店人员也不会让你走掉。虽然从幼儿园开始我们就被教育破坏公物是不对的，但这里是危及性命的时刻。

4. 如果是在安静的客房区，就使劲踹最近客房的门，踹的门越多越好，这样至少两个好处：①他们出来跟你讲理；②因为不知发生了什么，他们在自己房间可能就会（为自己安全）报警或给总台打电话求救。

5. 如果有可能掏出手机拍照，向路人传达出你和眼前这个人根本不认识。夫妻、婆媳、男女朋友之间拌嘴、打架或做出各种不可思议的事也许都正常，但很少有人会掏出手机拍下自己认识的人，所以这个举动也许能让旁人警觉！而且犯罪分子都怕被曝光，当你掏出手机拍他时，很可能会让对方自己失去方寸而败露。

6. 建议重复大声呼救‌‌“人贩子，打110 ！‌‌”几个字简洁表述自己遇到的情况。喊人贩子是因为新闻一出，好多人知道有装熟人强拽这样的情况，打110 是给周围路人发出了明确的指示信息。请尽量向看上去会提供帮助的一两个特定人求助，被求助人报警帮助的可能性更大！

7. 随身携带防狼喷雾，可以在军需用品店买到也可以在淘宝买，关键词是‌‌“RY‌‌”，自制辣椒水也行。

除此之外，微博上的@铁打的西瓜（据说是前警察）也给了一些有力的建议，我摘抄一些他的原话：

大声声明不认识嫌疑人，请求周边人报警，直接喊救命！不行的话，你就喊‌‌“警察打人啦！‌‌”为了你的安全，这个锅，警察还是愿意背的。

手抓，脚踢以及用任意你可以使用的工具，攻击目标：蛋蛋！不是丁丁，不是丁丁，不是丁丁！良心推荐手抓，攻击效果满格，比起脚踢等方法不会有偏差。

最后，我们真心希望你了解这些方法，但这辈子都用不上！！






20160408
=========
# 当加班成为常态

summary概要：年轻时候加班那叫激情，年纪大了那叫什么啊？

## 加班变多了

## 大公司如此，小公司也是如此

## 

------------------------



# Swift编程细节

## 懒加载
懒加载也就是延时加载，是一种将对象的创建或其他高负荷操作延迟到真正执行时才执行的机制，当为iOS进行编程时，仅在需要时才分配内存，这样对小内存的iOS设备来说非常实用，
### Swift方式的懒加载
在Swift中，只需要一行代码即可实现此机制，

```
// 请勿遗漏后面的小括号
lazy var name = String()
```

### 闭包与延迟加载
如果你想给延迟加载加上一些逻辑处理，Swift允许你在属性后面定义一个闭包调用，闭包的返回值会作为属性的默认值，如下代码所示，

```
lazy var players:[String] = {
        var temporaryPlayers = [String]()
        temporaryPlayers.append("Mike Buss")
        return temporaryPlayers
        }()
```

### var variable = {}()是什么

## ?和!的使用
### 可选值 - Optional

声明一个Optional的String类型的变量，只需要在定义变量的时候在类型后面加上一个`?`

```
var name: String?
```

如果这个变量是定义成`Optional`的，我们在引用它的时候就必须做一些特殊的处理，可以使用强制解包，如下所示，

```
print(name!)
```

在变量后面添加一个`!`，相当于告诉编译器，我确信这个变量不是`nil`，可以直接使用。当然使用强制解包只代表你自己确认它不是nil，但它还是有可能是`nil`的，如果这样的情况发生，依然会造成程序运行时崩溃。

相比使用强制解包，更加安全和优雅的方式是使用`Optioal Chaining`：

```
var name: String?
name = "call me 97"
if let nameValue = name {
 print(nameValue)
}
```

使用`if let`这样的语法就可以更加安全地操作Optional值，只有在name中的值不为nil的时候，nameValue变量才会被初始化，这样我们的print语句就不会因为nil而崩溃。

虽然我们使用Objective-C时候也可以进行类似这样的判断`if value != nil {}`，但Optional的好处是，它是编译级别的，只要一个值被标识成Optional的，它就必须在引用的时候进行非空判断，无论你使用强制解包还是Optional Chaining，这样我们代码的类型安全就得到很大的增强。

## extension和protocol结合实用

当实现Protocol协议时候，推荐添加一个单独的Class Extension来实现Protocol协议中的方法，这样可以协议中相关的方法可以组织在一块，并且可以简单地将protocol协议以及它相关的方法添加到类中。

### 推荐如下实现协议的方式

```
class MyViewcontroller: UIViewController {
  // class stuff here
}

// MARK: - UITableViewDataSource
extension MyViewcontroller: UITableViewDataSource {
  // table view data source methods
}

// MARK: - UIScrollViewDelegate
extension MyViewcontroller: UIScrollViewDelegate {
  // scroll view delegate methods
}
```

### 不推荐下面实现协议的方式

```
class MyViewcontroller: UIViewController, UITableViewDataSource, UIScrollViewDelegate {
  // all methods
}

```


## 与Objective-C桥接

为了达到Swift和Objective-C混编的目的，需要使用Bridge桥接功能，方法就是新建一个头文件，例如`Walkout-Bridging-Header.h`，将需要桥接的Objective-C的相关类头文件导入，例如下面代码所示，

```
// Walkout-Bridging-Header.h
#import SVProgressHUD.h
#import MJRefresh.h
#import "UIImageView+WebCache.h"
```

然后在项目的设置项中，设置Objective-C Briding Header选项，
```
// file_path是Walkout-Bridging-Header.h在项目中的路径
Build Settings -> Swift Compiler - Code Generation -> Objective-C Briding Header = file_path
```

Command+B编译如果没有问题，那么就可以使用Swift的语法来调用Objective-C类的功能了。

