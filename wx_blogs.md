BLOGS
-------------
## Coding Way - 20160127
 优秀的攻城狮应该具备怎样的特质
误入码农行业也有不少时间，见过不少大神，发现大神都具备两个共同的特质，第一就是高度抽象的思维和架构能力，第二就是胆大心细。说起来好像很简单，但是结合自己的能力，发现这两个能力正好是自己的短板。

#### 抽象思维和架构能力
软件开发说到底也就是把现实世界的需求给抽象成代码，在计算机世界中执行。所以呢，做一款App或者Web产品，首先对整个产品的业务需求很了解，一款产品有不同的模块，各个模块之间怎么样的交互，这些都需要通盘考虑。如果只局限于眼前的短期目标，确实可以快速的开发出一个功能缺省的雏形，但是随着业务的增加，之前考虑问题不全面导致的恶果就会越来越严重。所以，大多数时候，作为软件攻城狮，确实应该多花时间想想自己做的产品涉及的方方面面，通盘考虑，让自己站在更高的角度，不要像一只可怜的蚂蚁一样，在需求的魔方上面找不到出路。

架构能力我认为就是掌控代码质量的能力了，什么叫好的代码呢，不同的人有不同的看法，也许我们看前任留下的代码都会说这代码真是没法维护，写的太烂了，所以说代码的好坏可能没有一个标准的衡量方法。但是也可以这样说，良好的代码，起码具备如下几个特点，首先要模块清晰，分类清楚，其次要语义明确无误，命名规范、简洁。我觉得有个很好的方法判断代码是否是烂代码，就是那看看自己的类，是不是对外提供了太多的接口，如果接口太多，调用和管理变的越来越麻烦，也会有很多冗余重复的代码，这时候你就该偷偷摸摸地把代码优化一下了。

抽象思维和架构能力的培养，是一个漫长而缓慢的过程，我觉得攻城狮一定要多思考，敢于面对自己当前的烂，多与人交流切磋，多阅读优质的开源代码。一步一步的，逐步去提升，最终会产生潜移默化的效果。so，建议各位攻城狮下班了或者周末了，花点时间看看github上面的代码，做做总结。

#### 胆大心细，发散思维
作为攻城狮，我们在编码的过程中肯定都会遇到各种蛋疼的bug以及没节操的需求。有的时候抓耳挠腮绞尽脑汁，还是没有解决bug的思路或者找不到方法，或者有时候感觉自己就在门外，但是就是没有开启大门的钥匙，只能看着时间流逝，自己站在门外干跺脚。想起自己以前改bug时候，面对十几个关联的类，大片大片的代码，真的是无从下手，后来请教大神。大神通盘看了看，然后对可疑代码逐行注释的去调试，最终找到了原因。改好了bug，我在想，为什么我也怀疑那段代码有问题，却没有像大神一样仔细地去逐行注释仔细调试呢，后来想想，自己面对bug时候内心是崩溃的，这时候已经乱了方寸，根本就是没头苍蝇胡乱冲撞，心思越乱，受伤越深，那一堂课，大神让我明白了什么叫做胆大心细。

发散思维是什么呢，我觉得就是不比拘泥于传统的套路，而是另辟蹊径寻找替代的方法。这种能力的锻炼并不容易，因为我们往往会循着自己的固有思维一直走啊走，也不知道自己走的这条路是否是一条正确的路，有时候你坚持下去了，发现自己走的对了；有时候你并不知道走了错误的路，最终发现难以回头或者骑虎难下，最后的最后还是不得不气馁地承认自己确实错了，如果继续走下去会越陷越深。那怎样能避免这种思维误区呢，我觉得在于我们自身的想象力和创造力，我们平常就应该注重创造力和想象力的培养，比如一个稍微复杂的需求或者略蛋疼的bug，我们要想，有几种方法去解决呢，如果我们解决了，能不能用另外一种方法试着能不能解决，如果都可以解决，那么还要深入思考，哪一种方案更加高效优质。所以，平常的工作不能满足于完成任务，而是要想，自己到底有没有突破自己思维的局限，有没有多思考更好的方法，甚至更烂的方法。


### 怎样提升自己的知识储备
其实工作了一两年的攻城狮应该都有这种感觉，自己做的工作越来越重复，创造性的工作或者挑战性的需求也只占到30%不到，更多的时候我们都是靠着之前的积累和经验在解决问题。所以自己的知识储备越丰富，工作肯定越得心应手。那么怎样构建自己的知识体系呢？以我自己的经历来说，主要有以下几点吧，

#### 1. 多阅读代码多收集代码
作为攻城狮，我们在开发过程中阅读过很多巧妙的设计模式代码，看过很多强大的功能类和工具类，哪怕是一种独特而有效的注释风格，这些都值得我们学习。也许今天印象深刻，明天还会记得，下个月还有点印象，过了两个月我们就会忘的干干净净，所以我们有必要在理解了代码之后将其收集，不时地拿出来看一看，这样经过不断地巩固，这些优质的代码就被逐渐吸收了。

至于收集的代码放在什么地方，我觉得github不用说了吧，不用github的攻城狮不是好的攻城狮。

#### 2. 关注行业新动态 拥抱变化
记得刚刚入行码农界的时候，一个老司机告诉我，做开发最辛苦的地方就是要不断地学习新的东西，接触新的技术，如果你有这个激情，说明你适合这个行业。一开始不是太懂这句话，等自己入了行才觉得深以为然，是啊，攻城狮真的需要不断地学习，不断地充电，不然麻木地混个三个月就落下别人一大截。

我在学习iOS开发的过程中，发现每一次苹果发布新的版本iOS和对应的SDK，都要一下接受那么多的东西。比如我是从iOS5开始接触iOS开发的，那时候都是用MRC来进行内存管理，界面编写都是用代码实现，其实对于内存管理也不是太懂，就稀里糊涂写代码；后来iOS6发布了，又要开始学习ARC和XIB编程，当然学习难度不是特别大，而且ARC和XIB推出的目的就是为了减轻开发者编程的负担，我却并不了解ARC到底哪里好了，还是稀里糊涂的使用；后来iOS7出来了，苹果直接用了扁平化的界面风格，作为码农又要适配新的界面风格，犹记得iOS7刚刚推出的时候，整个设计界和码农界对这种扁平化风格骂声一片，当然我当时也加入了谩骂的阵营，不过有一次跟一个设计师交流的时候，我问他感觉iOS7扁平化风格怎么样，他说iOS7的新的样式真的很好看，而且自带的时钟App上面的指针还动呢，他简单的一句话，让我有点茅塞顿开的感觉，原来我们说扁平化不好，也许只是我们不太喜欢拥抱变化吧；后来iOS8出来，我们需要学习extension开发，包括Widget、Today等，我们要学Size Class来适配多种屏幕，还要面临一个新的开发语言Swift；现在iOS9推出这么长时间，各位大牛想必已经明白了Bitcode，HTTPS等iOS9的新特性了吧。

#### 3. 坚持模块化的学习，深入研究
软件开发的大厦是由一块一块的砖头堆砌而成，所以攻城狮应该对一些重要的模块做深度的研究，就拿iOS开发来说，涉及的细节真是太多太多，比如设计模式、XIB编程、证书制作、即时聊天、数据库操作、社会化分享和登陆，就算是开源世界提供给我们的免费的项目，例如AFNetworking、SDWebImage以及CocoaPods等等，随便看看都够我们吸收好久好久。所以建议，不论是刚入门的开发者，还是老司机，都要深度学习自己存在盲区的模块，反复的看反复理解，当这些零零碎碎的知识点被吸收到大脑里面时候，面对一些复杂的场景和蛋疼的需求，我们就能做到游刃有余。

很久之前在知乎上面看见一个问题，一个人问：既然看书过后总是要忘记，为什么我们还是要看书呢。有一个人回到说：看书的目的并不是为了记住书里的内容，我们看书是为了学习别人的经验，增长自己的知识，即使这些知识以后忘了，只要书本还在我们身边，当我们重新拿起书本反复阅读的时候，曾经遗忘的东西又会被我们找回，随着阅读次数的增加和理解的深入，这些知识就深深的映在我们的脑海里面了。

现在我也看各种各样的书，有经济学、社会学、计算机工程学、iOS开发的专业书，往往一本书看完了之后我就放在床头柜子上面，而不是束之高阁，因为我经常在睡前或者周末的早上随手拿起床头的书，再回味一遍，这时候不再像之前一样要一口气从头到尾，而是随手翻看任意的章节，我准备通过这种方式，不断地吸收书本里面的营养。

读书如此，学习编程也是如此，对于一些盲区的知识点，我们要正视自己的不足，多花整块大块的时间去专项研究，反复研究。等到全部吸收的时候，我们也在这个小小的领域取得了很大的突破。

#### 4. 学习另一种编程语言
作为攻城狮，我们工作的编程语言也许只有一种或者两种，我觉得应该开拓眼界主动地去学习其他的我们比较陌生的开发语言。在知乎上面我看了很多关于python神奇功能的文章，而且之前实习时候用python做过服务器、写过脚本，所以最近小半年时间，我一直在断断续续地看python相关的代码，写一些小小的demo。特别是python在数据处理和爬虫这一块真的很强大，推荐大家有空可以学习玩玩。而且作为iOS开发者，最近swift已经开源，学习swift已经迫在眉睫，如果想好好掌握这门语言，我建议各位每天下班时候随手写半小时练练手，贵在坚持，厚积方能薄发。

为什么要学习多种语言呢？我也不知道，我觉得语言都是想通的，但是内在的原理可能千差万别，比如c语言就是编译性语言，Objective-C是运行时语言，这有什么区别呢？我觉得只有花时间去深入学习，深度思考才能找到答案吧。至于选择什么语言作为自己业余编程语言，我觉得python，swift或者ruby都可以作为切入点。记得很早之前的一个leader，他算是全栈工程师吧，当时在团队里面他用Java写后台，同事开发iOS和Android版本的App，我觉得他已经够牛了，有一天下班看见他在看python文档，我说老大你干啥看这个语言啊，他说python是个好东西，可以好好学习学习，他说的话让我印象深刻，可是我过了好久才开始拿起python学习，而且现在还仍然是皮毛阶段。反正技多不压身，有兴趣的朋友可以到github或者知乎找一找python相关的话题和需求，可以试着看看自己能否解决，解决不了了再看看别人的解决方案，这样的一个过程不仅学习了python，而且发散了自己的思维。

#### 5. 专注做好本职工作
其实作为攻城狮来说，我们面临的最大的财富也许就是自己当前维护的产品和代码。为什么这么说呢？因为一个线上的产品，整个公司投入了巨大的人力和物力进行推广和维护，一个项目，有很多人经手，每个人都在代码里面倾注了自己的心血和理解；而且，这种产品只要还有用户，整个团队就会继续投入精力去维护，而不会让这个系统瘫痪。所以我们提升的一个方法就是做好自己的本职工作，在工作的8~10小时内汲取项目的营养。谁也不能保证对整个项目如数家珍，所以如果当前维护的项目中还存在自己认知的盲区和误区，可以花时间好好阅读和吸收一下，有不理解和不明白的可以直接询问周边的大神同事，真的比阅读github代码更加直接。

### 一点小结
以上是本人的一点看法，各位大神见仁见智，各位肯定也有自己独到的想法和见解，快过年了，祝各位事业进步，升职加薪。




## Regular Expression in iOS 20160128
### 参考文档
* CNBLOG - [深入学习iOS开发-四](http://www.cnblogs.com/dyingbleed/archive/2013/05/17/3036113.html)
* 


## 计算机网络方面的一些小知识 20160225
#### 1.1 路由器地址

路由器设置地址有很多种，192.168.1.1路由器设置是最常见的！路由器设置一般说明书上都会有，可以通过电脑来设置路由器地址。

IP地址在一定的区域是唯一的；IP地址分为公网地址和私网地址，上述所说的192.168.1.1属于私网地址。公网地址就是互联网（Internet）上面的地址，全球唯一；私网地址只要在私网内唯一就可以了。

用一个简单的比喻来说明，

公网：一个国家；私网：一个家庭，一个公司。

这个国家（公网）规定在公共场合出现的每个人都必须使用一个唯一的身份ID（公网地址）。

当这个人在自己家（私网），他的身份可以是付清或者母亲（私网地址）；每个家庭（每个私网）都有可能存在父亲、母亲、儿子这样的身份。

这个人在公司（私网），他的身份可能是老板、经理；每个公司（每个私网）都可以用这样的身份。

还有规定：哥哥家庭（私网）不允许私下沟通，必须在公共场合使用全国唯一身份ID（公网）沟通，internet规定：私网地址只能在私网内使用，到公网地址必须使用公网地址。

继续阅读[路由器地址的192.168.1.1?](https://www.zhihu.com/question/21150632)

下面这些都是私网

```
10.x.x.x 
172.16.x.x至172.31.x.x 
192.168.x.x
```
所以我们知道192.168.0.0到192.168.255.255是私有地址，常用的私有地址还有172.16.0.0到172.31.255.255等等，这些私有地址是用于局域网的。罗尤其是链接公网和私网的桥梁，说白了就是专门用于私网地址和公网地址的交换。当然此处所指的是一般家庭用的路由器，真正的路由器是用于大型网络的节点，价格相当昂贵，功能更加复杂。

使用192.168.0.1的路由器和使用192.168.1.1的路由器之间肯定有过异常旷日持久的战争，最后192.168.1.1一统天下，有兴趣的童鞋可以找一找资料，了解一下。


#### 1.2 端口和IP的关系
IP地址是电脑在网络中要来标记地址的一组数字，就像门牌号码一样。比如192.168.1.1；端口是电脑系统对应一些服务所开启的通信通道，比如打开网页要用的是80端口，telnet用的是23端口等等。socket（套接字），就是IP：端口号的形式。

IP能锁定一台物理机器，对应着一张网卡，外界发来的数据包网卡都会接收。但是问题来了，网卡给程序提供了接口，你监听一下我，要是有消息来了我就转发给你。这样应用程序就能收到数据了。但是问题来了，程序A和程序B都需要监听网卡接发数据，网卡说那我把接收到的数据都发给你俩，你们自己看着办吧。好，小A小B都接受了，但是又来了CDEF...，不行了，每个包都被发到了所有应用程序，每个应用程序都累得不行，最终垮了。

好，那网卡说我给你们加个标识吧，我们之间可以用一个号码来作为标识，我和小A之间就用1来标识，如果外界发给1号标识的数据我就转发给你，你监听我的时候告诉我你监听的是1，我就转发1的数据包给你。好了其他的BCD...都自己弄一个标识好，只要不重复就行。这样大家都省事了。

最后涉及到安全每一个标识好只能被一个应用程序监听，因为如果小A程序和小B同时监听一个标志号，那就坏了，因为网卡传输的数据都被AB程序接收到，这样数据安全性就没法保证了。

这个标识号就是端口，其实网卡都是被系统层封装了，端口和进程之间的关系也是系统封装好的。我们只需要用socket就行，给定一个端口号就行。其他的事都交给操作系统去做。

端口只需要简单理解为一个标志就好，比如电脑一和电脑二建立tcp链接，建立一条没问题啊，双方处理链接上传报文就好了，但是要建立多条链接，怎么区分这两条链接呢？那就用一种标志吧，带个数字，这就是端口号。

说到底，一个端口号就是对应一个特定的应用或服务，如下所列，常用服务和开放端口号对照，

* HTTP协议代理服务器常用端口号：80/8080/3128/8081/9080
* SOCKETS代理协议服务器常用端口号：1080
* FTP文件传输协议代理服务器常用端口号：21
* Telnet远程登录协议代理服务器常用端口号：23

HTTP服务器，默认端口号为80/tcp，木马Executor开放次端口；HTTPS（Securely Trnasferring Web Page）服务器，默认端口号为443/tcp 443/udp；Telnet不安全的文本传送，默认端口号为23/tcp，木马Tiny Telnet Server所开放的端口；FTP，默认的端口号为21/tcp，木马Doly Trojan、Fore、Invisible FTP、WebEx、WinCrash和Blade Runner所开放的端口；SSH安全登录、SCP文件传输、端口重定向，默认的端口号为22/tcp；SMTP Simple Mail Transfer Protocol（Email）默认的端口号为25/tcp；POP3 Post Office Protocol（Email）默认的端口号为110/tcp；JBOSS的默认端口号为8080；TOMCAT的默认端口号为8080；Oracle数据库默认端口号为1521；MS SQL SERVER数据库server，默认的端口号为1433/tcp和1433/udp；QQ默认端口号为1080/udp。

#### 1.3 iOS系统推送的原理是什么
iOS在系统几倍有一个推送服务程序使用5223端口。使用这个端口的协议源于Jbber，后来发展为XMPP，被用于Gtalk等IM软件中。

![5223端口](http://i13.tietuku.com/7918cb6a06c25f38.png)

所以，iOS的推送，可以不严谨的理解为：

苹果服务器吵手机后台挂的一个IM服务程序发送的消息。然后系统根据IM消息识别告诉那个Apps具体发生了什么事情。接着，系统分别告诉这些Apps。

这个消息的内容是这样的，

![iOS推送消息的结构](http://i13.tietuku.com/bcb1d32e0dea8463.jpg)

应该说，苹果这种方式在技术上没有什么创新。但是整个架构是很了不起的。因为：

1. 使用久经考验的协议，技术风险小
2. 苹果用于承担责任，它需要维护一个大家不小的服务器集群，而且要为服务器的down机负责。

选择低风险的技术方案Bug更少，减轻了用户的痛苦，这是架构师的功劳；苹果承担责任，尽可能的减少不可控的意外，保证了用户体验。这只能说是公司决策者的功劳，从侧面说明了有个懂技术的VP是多么重要，而Scott走人了。

苹果的推送服务带给用户的好处是实实在在的，

1. 安全，只有登录过的开发者可以通过苹果的服务器推送
2. 快速，稳定，可靠，因为苹果掌控推送服务器和OS
3. 更加省电
4. 让整个系统的体验更统一和简单，而不会出现杀后台这种脑残事情（不用大量Apps/Apps的服务为了推送挂后台）
5. 开发容易，当然开发者还是要做一些事情，比如维护推送服务器，但是复杂度无疑降低了很多
